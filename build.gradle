apply plugin: "java"
apply plugin: "idea"

test {
    useTestNG()
    testLogging.exceptionFormat = "full"

    workingDir "build/tmp"
}

jar {
    archiveName "BiblioS.jar"

    manifest.attributes "Main-Class": "de.medusalix.biblios.core.BiblioS"

    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile group: "org.apache.logging.log4j", name: "log4j-api", version: "2.5"
    compile group: "org.apache.logging.log4j", name: "log4j-core", version: "2.5"

    compile group: "com.h2database", name: "h2", version: "1.4.191"
    compile group: "org.jdbi", name: "jdbi", version: "2.71"

    compile group: "com.fasterxml.jackson.core", name: "jackson-core", version: "2.6.4"
    compile group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.6.4"

    testCompile group: "org.testng", name: "testng", version: "6.9.10"
}
